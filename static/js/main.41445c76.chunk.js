(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{31:function(e,t,c){},44:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var s,a=c(1),i=c.n(a),n=c(24),r=c.n(n),l=c(22),o=c(7),j=c(16),u=c(10),m="favourite",d=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]},b={favorites:d(m)},_=Object(j.b)({name:"favorite",initialState:b,reducers:{addFavourite:function(e,t){!function(e,t){var c=d(e);"string"===typeof t?c.push(t):t.forEach((function(e){return c.push(e)})),localStorage.setItem(e,JSON.stringify(c))}(m,t.payload),e.favorites=[].concat(Object(u.a)(e.favorites),[t.payload])},removeFavourite:function(e,t){!function(e,t){var c=d(e);localStorage.setItem(e,JSON.stringify(c.filter((function(e){return e!==t}))))}(m,t.payload),e.favorites=e.favorites.filter((function(e){return e!==t.payload}))}}}),h=_.actions,O=h.addFavourite,p=h.removeFavourite,x=_.reducer,f=c(8),g=c(11),v="withdraw",N=function(){var e=localStorage.getItem(v);return e?JSON.parse(e):{}},w=function(e){localStorage.setItem(v,JSON.stringify(e))},y={withdraw:N()},P=Object(j.b)({name:v,initialState:y,reducers:{addWithdraw:function(e,t){Object.prototype.hasOwnProperty.call(N(),t.payload.id)||(e.withdraw=Object(g.a)(Object(g.a)({},e.withdraw),{},Object(f.a)({},t.payload.id,Object(g.a)(Object(g.a)({},t.payload),{},{amount:1})))),w(e.withdraw)},encreaseAmount:function(e,t){Object.prototype.hasOwnProperty.call(N(),t.payload[1])&&(e.withdraw[t.payload[1]].amount+=t.payload[0],w(e.withdraw))},decreaseAmount:function(e,t){Object.prototype.hasOwnProperty.call(N(),t.payload[1])&&e.withdraw[t.payload[1]].amount-t.payload[0]>0&&(e.withdraw[t.payload[1]].amount-=t.payload[0],w(e.withdraw))},deleteWithdraw:function(e,t){delete e.withdraw[t.payload],w(e.withdraw)}}}),C=P.actions,k=C.addWithdraw,S=C.decreaseAmount,M=C.deleteWithdraw,E=C.encreaseAmount,A=P.reducer,F=Object(j.a)({reducer:{favorite:x,withdraw:A}}),I=c(4),B=c(3),T=(c(44),c(31),c(6)),V=c.n(T),L=function(){return Object(l.b)()},R=l.c,W=c(0),H=function(){var e=R((function(e){return e.favorite.favorites})).length,t=R((function(e){return e.withdraw.withdraw})),c=Object(a.useMemo)((function(){var e=0;return Object.keys(t).forEach((function(c){e+=t[c].amount})),e}),[t]);return Object(W.jsx)("header",{className:"header",children:Object(W.jsxs)("div",{className:"header__content",children:[Object(W.jsxs)("div",{className:"header__right",children:[Object(W.jsx)("div",{className:"logo",children:Object(W.jsx)(o.c,{to:"/home",className:"logo__link"})}),Object(W.jsx)("nav",{className:"nav",children:Object(W.jsxs)("ul",{className:"nav__list",children:[Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/home",className:function(e){var t=e.isActive;return V()("nav__link",{"is-active":t})},children:"Home"})}),Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/phones",className:function(e){var t=e.isActive;return V()("nav__link",{"is-active":t})},children:"Phones"})}),Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/tablets",className:function(e){var t=e.isActive;return V()("nav__link",{"is-active":t})},children:"Tablets"})}),Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/accessories",className:function(e){var t=e.isActive;return V()("nav__link",{"is-active":t})},children:"Accessories"})})]})})]}),Object(W.jsxs)("div",{className:"header__left",children:[Object(W.jsx)(o.c,{to:"/favourites",className:function(e){var t=e.isActive;return V()("header__icon header__icon-favourite",{"is-active":t})},children:e>0&&Object(W.jsx)("p",{className:"header__ellipse",children:e})}),Object(W.jsx)(o.c,{to:"/withdraw",className:function(e){var t=e.isActive;return V()("header__icon header__icon-withdraw",{"is-active":t})},children:c>0&&Object(W.jsx)("p",{className:"header__ellipse",children:c})})]})]})})},J=(c(47),function(){return Object(W.jsx)("footer",{className:"footer",children:Object(W.jsxs)("div",{className:"container footer__content",children:[Object(W.jsx)("div",{className:"footer__logo",children:Object(W.jsx)(o.c,{to:"/",className:"footer__link"})}),Object(W.jsx)("div",{className:"footer__contacts",children:Object(W.jsx)("nav",{className:"nav",children:Object(W.jsxs)("ul",{className:"nav__list",children:[Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/",className:"nav__link",children:"Github"})}),Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/",className:"nav__link",children:"Contacts"})}),Object(W.jsx)("li",{className:"nav__item",children:Object(W.jsx)(o.c,{to:"/",className:"nav__link",children:"Rights"})})]})})}),Object(W.jsxs)("button",{type:"button",className:"footer__to-top",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:[Object(W.jsx)("h3",{className:"footer__to-top-text",children:"Back to top"}),Object(W.jsx)("div",{className:"footer__to-top-button"})]})]})})}),U="https://mate-academy.github.io/react_phone-catalog",D="https://mate-academy.github.io/react_phone-catalog/api/products",$=function(){return fetch("".concat(D,".json")).then((function(e){if(!e.ok)throw new Error;return e.json()}))},G=(c(48),function(e){var t=e.item,c=R((function(e){return e.favorite.favorites})),s=R((function(e){return e.withdraw.withdraw})),i=L(),n=Object(a.useMemo)((function(){return Object.keys(s).includes(t.id)}),[s]),r=Object(a.useMemo)((function(){return c.includes(t.id)}),[c]),l=function(e){"favorite"===e?i(r?p(t.id):O(t.id)):"withdraw"===e&&i(n?M(t.id):k(t))};return Object(W.jsxs)("div",{className:"item",children:[Object(W.jsxs)(o.b,{className:"item__header",to:"/".concat(t.type,"s/").concat(t.id),children:[Object(W.jsx)("div",{className:"item__photo-container",children:Object(W.jsx)("img",{src:"".concat(U,"/").concat(t.imageUrl),alt:t.id,className:"item__photo"})}),Object(W.jsx)("h2",{className:"item__title",children:t.name})]}),Object(W.jsxs)("div",{className:"item__body",children:[Object(W.jsx)("div",{className:"item__price",children:t.discount?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("p",{className:"item__counted",children:Math.ceil(t.price*((100-t.discount)/100))}),Object(W.jsx)("p",{className:"item__initial-price",children:t.price})]}):Object(W.jsx)("p",{className:"item__counted",children:t.price})}),Object(W.jsx)("div",{className:"item__specs specs",children:Object(W.jsxs)("ul",{className:"item__specs specs__list",children:[Object(W.jsxs)("li",{className:"specs__item",children:[Object(W.jsx)("p",{className:"specs__name",children:"Screen"}),Object(W.jsx)("p",{className:"specs__value",children:t.screen})]}),Object(W.jsxs)("li",{className:"specs__item",children:[Object(W.jsx)("p",{className:"specs__name",children:"Capacity"}),Object(W.jsx)("p",{className:"specs__value",children:t.capacity})]}),Object(W.jsxs)("li",{className:"specs__item",children:[Object(W.jsx)("p",{className:"specs__name",children:"RAM"}),Object(W.jsx)("p",{className:"specs__value",children:t.ram})]})]})}),Object(W.jsxs)("div",{className:"item__buttons",children:[Object(W.jsx)("button",{type:"button",className:V()("item__buy",{"item__buy--selected":n}),onClick:function(){return l("withdraw")},children:n?"Added to cart":"Add to cart"}),Object(W.jsx)("button",{type:"button","aria-label":"favorite",className:V()("item__favorite",{"item__favorite--active":r}),onClick:function(){return l("favorite")}})]})]})]})}),z=(c(49),function(e){var t=e.pathElems,c=e.pathBoldElems,s=Object(a.useMemo)((function(){return t.map((function(e){return e[0].toUpperCase()+e.slice(1)}))}),[t]),n=Object(a.useMemo)((function(){return c.map((function(e){return e[0].toUpperCase()+e.slice(1)}))}),[c]);return Object(W.jsxs)("div",{className:"path",children:[Object(W.jsx)(o.b,{to:"/home",className:"path__link"}),Object(W.jsx)("div",{className:"path__arrow"}),s.map((function(e,t,s){return s.length-1>t?Object(W.jsxs)(i.a.Fragment,{children:[Object(W.jsx)(o.b,{to:"/".concat(e),className:V()("path__text",{path__bold:n.includes(e)}),children:e},e),Object(W.jsx)("div",{className:"path__arrow"})]},e):Object(W.jsx)("p",{className:V()("path__text",{path__bold:c.includes(e)}),children:e},e)}))]})}),X=(c(50),function(){var e=Object(a.useState)([]),t=Object(I.a)(e,2),c=t[0],s=t[1],i=function(){var e=window.location.hash.slice(2);return e[0].toUpperCase()+e.slice(1)},n=R((function(e){return e.favorite.favorites}));return Object(a.useEffect)((function(){$().then((function(e){n.forEach((function(t){var c=e.find((function(e){return e.id===t}));c&&s((function(e){return[].concat(Object(u.a)(e),[c])}))}))}))}),[]),Object(a.useEffect)((function(){s((function(e){return e.filter((function(e){return n.includes(e.id)}))}))}),[n.length]),Object(W.jsxs)("section",{className:"favourites",children:[Object(W.jsx)(z,{pathElems:[i()],pathBoldElems:[]}),Object(W.jsx)("h1",{className:"favourites__title",children:i()}),Object(W.jsx)("h3",{className:"favourites__subtitle",children:"".concat(n.length," items")}),Object(W.jsx)("div",{className:"favourites__body",children:c.map((function(e){return Object(W.jsx)(G,{item:e},e.id)}))})]})}),q=(c(51),c(52),c(53),function(){var e=L(),t=R((function(e){return e.withdraw.withdraw})),c=Object(a.useMemo)((function(){return Object.values(t).reduce((function(e,t){return e+Math.ceil(t.amount*t.price*((100-t.discount)/100))}),0)}),[t]),s=function(t,c){"add"===t?e(E([1,c])):"remove"===t&&e(S([1,c]))};return Object(W.jsxs)("section",{className:"withdraw",children:[Object(W.jsx)(z,{pathElems:[function(){var e=window.location.hash.slice(2);return e[0].toUpperCase()+e.slice(1)}()],pathBoldElems:[]}),Object(W.jsx)("h1",{className:"withdraw__title",children:"Cart"}),Object(W.jsxs)("div",{className:"grid",children:[Object(W.jsx)("div",{className:"grid__item grid__item-1-16",children:Object(W.jsx)("ul",{children:Object.values(t).map((function(t){return Object(W.jsxs)("li",{className:"withdraw__item",children:[Object(W.jsxs)("div",{className:"withdraw__item-info",children:[Object(W.jsx)("button",{type:"button","aria-label":"delete",className:"withdraw__cross",onClick:function(){return c=t.id,void e(M(c));var c}}),Object(W.jsx)("img",{src:"".concat(U,"/").concat(t.imageUrl),alt:t.id,className:"withdraw__img"}),Object(W.jsx)("p",{className:"withdraw__text",children:t.name})]}),Object(W.jsxs)("div",{className:"withdraw__item-price",children:[Object(W.jsxs)("div",{className:"withdraw__counter",children:[Object(W.jsx)("button",{type:"button",className:V()("withdraw__itembtn",{"withdraw__itembtn--active":t.amount>1}),onClick:function(){return s("remove",t.id)},children:"-"}),Object(W.jsx)("div",{className:"withdraw__container",children:Object(W.jsx)("p",{className:"withdraw__amount",children:t.amount})}),Object(W.jsx)("button",{type:"button",className:"withdraw__itembtn withdraw__itembtn--active",onClick:function(){return s("add",t.id)},children:"+"})]}),Object(W.jsx)("p",{className:"withdraw__price",children:"$".concat(Math.ceil(t.amount*t.price*((100-t.discount)/100)))})]})]},t.id)}))})}),Object(W.jsxs)("div",{className:"grid__item grid__item-17-24 withdraw__checkout",children:[Object(W.jsx)("p",{className:"withdraw__total-price",children:"$".concat(c)}),Object(W.jsx)("p",{className:"withdraw__inner-text",children:"Total for ".concat(Object.keys(t).length," items")}),Object(W.jsx)("button",{type:"button",className:"withdraw__button",children:"Checkout"})]})]})]})}),K=(c(54),function(e){var t=e.title,c=e.items,s=Object(a.useState)(0),i=Object(I.a)(s,2),n=i[0],r=i[1],l=Object(a.useMemo)((function(){return c?Math.ceil(c.length/4):0}),[c]),o=function(e){"next"===e&&n<l-1?r((function(e){return e+1})):"prev"===e&&n>0&&r((function(e){return e-1}))};return Object(W.jsxs)("div",{className:"itemCarousel",children:[Object(W.jsxs)("div",{className:"itemCarousel__header",children:[Object(W.jsx)("h2",{className:"itemCarousel__title",children:t}),Object(W.jsxs)("div",{className:"itemCarousel__buttons",children:[Object(W.jsx)("button",{disabled:0===n,"aria-label":"prev",className:V()("itemCarousel__button","itemCarousel__button--reversed",{"itemCarousel__button--disabled":0===n}),type:"button",onClick:function(){return o("prev")}}),Object(W.jsx)("button",{disabled:n===l-1,"aria-label":"next",className:V()("itemCarousel__button",{"itemCarousel__button--disabled":n===l-1}),type:"button",onClick:function(){return o("next")}})]})]}),Object(W.jsx)("div",{className:"itemCarousel__body",children:Object(W.jsx)("div",{className:"itemCarousel__wrapper",style:{transform:"translateX(".concat(1156*-n,"px)")},children:null===c||void 0===c?void 0:c.map((function(e){return Object(W.jsx)(G,{item:e},e.id)}))})})]})}),Q=(c(55),["#FCDBC1","#5F7170","#4C4C4C","#F0F0F0"]),Y=[64,256,512],Z=function(){var e=Object(a.useState)(),t=Object(I.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(),n=Object(I.a)(i,2),r=n[0],l=n[1],j=Object(a.useState)(Q[0]),u=Object(I.a)(j,2),m=u[0],d=u[1],b=Object(a.useState)(Y[0]),_=Object(I.a)(b,2),h=_[0],x=_[1],f=Object(a.useState)({prevVal:0,currVal:0}),v=Object(I.a)(f,2),N=v[0],w=v[1],y=Object(a.useState)([]),P=Object(I.a)(y,2),C=P[0],S=P[1],E=Object(B.o)().itemId,A=window.location.hash.slice(2).split("/"),F=L(),T=R((function(e){return e.favorite.favorites})),H=R((function(e){return e.withdraw.withdraw})),J=Object(a.useMemo)((function(){return!!r&&Object.keys(H).includes(r.id)}),[H,r]),G=Object(a.useMemo)((function(){return!!r&&T.includes(r.id)}),[T,r]),X=function(e){r&&("favorite"===e?F(G?p(r.id):O(r.id)):"withdraw"===e&&F(J?M(r.id):k(r)))};Object(a.useEffect)((function(){var e;(e=E,fetch("".concat(D,"/").concat(e,".json")).then((function(e){if(!e.ok)throw new Error;return e.json()}))).then((function(e){return s(e)})),$().then((function(e){l(e.find((function(e){return e.id===E}))),S(e.slice(5,10))})),window.scrollTo({top:0,behavior:"smooth"})}),[E]);return Object(W.jsx)("section",{className:"itemPage",children:c&&r&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(z,{pathElems:A,pathBoldElems:A.slice(0,-1)}),Object(W.jsxs)(o.b,{to:"/".concat(A[0]),className:"itemPage__back",children:[Object(W.jsx)("div",{className:"itemPage__back-img"}),"Back"]}),Object(W.jsx)("h1",{className:"itemPage__title",children:c.name}),Object(W.jsxs)("div",{className:"grid itemPage__section",children:[Object(W.jsx)("div",{className:"grid__item grid__item-1-2 itemPage__photos",children:c.images.map((function(e,t){return Object(W.jsx)("img",{src:"".concat(U,"/").concat(e),className:V()("itemPage__secondaryPhoto",{"itemPage__secondaryPhoto--active":t===N.currVal}),alt:"photos",onClick:function(){return function(e){w({prevVal:e,currVal:e})}(t)},onMouseEnter:function(){return function(e){w((function(t){return Object(g.a)(Object(g.a)({},t),{},{currVal:e})}))}(t)},onMouseLeave:function(){w((function(e){return Object(g.a)(Object(g.a)({},e),{},{currVal:e.prevVal})}))}},e)}))}),Object(W.jsx)("div",{className:" grid__item grid__item-3-12 itemPage__activePhotoContainer",children:Object(W.jsx)("img",{className:"itemPage__activePhoto",src:"".concat(U,"/").concat(c.images[N.currVal]),alt:"selected"})}),Object(W.jsxs)("div",{className:"grid__item grid__item-14-21 itemPage__main-specs",children:[Object(W.jsxs)("div",{className:"itemPage__colors",children:[Object(W.jsx)("p",{className:"itemPage__colors-text",children:"Available colors"}),Q.map((function(e){return Object(W.jsx)("div",{className:V()("itemPage__colors-wrapper",{"itemPage__colors-wrapper--active":e===m}),children:Object(W.jsx)("button",{type:"button",className:"itemPage__colors-btn","aria-label":"color",style:{backgroundColor:e},onClick:function(){return function(e){d(e)}(e)}})},e)}))]}),Object(W.jsxs)("div",{className:"itemPage__capacity",children:[Object(W.jsx)("p",{className:"itemPage__capacity-text",children:"Select capacity"}),Y.map((function(e){return Object(W.jsx)("button",{type:"button",className:V()("itemPage__capacity-value",{"itemPage__capacity-value--active":e===h}),"aria-label":"color",onClick:function(){return function(e){x(e)}(e)},children:"".concat(e," GB")},e)}))]}),Object(W.jsxs)("div",{className:"itemPage__price",children:[Object(W.jsx)("p",{className:"itemPage__price-current",children:"$".concat(Math.ceil(r.price*((100-r.discount)/100)))}),r.discount>0&&Object(W.jsx)("p",{className:"itemPage__price-original",children:"$".concat(r.price)})]}),Object(W.jsxs)("div",{className:"itemPage__buttons",children:[Object(W.jsx)("button",{type:"button",className:V()("itemPage__buttons-buy",{"itemPage__buttons-buy--selected":J}),onClick:function(){return X("withdraw")},children:J?"Added to cart":"Add to cart"}),Object(W.jsx)("button",{"aria-label":"favourite",type:"button",className:V()("itemPage__buttons-favourite",{"itemPage__buttons-favourite--active":G}),onClick:function(){return X("favorite")}})]}),Object(W.jsxs)("ul",{className:"itemPage__specs-list",children:[Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Screen"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.display.screenSize})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Resolution"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.display.screenResolution})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Processor"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.hardware.cpu})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"RAM"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.storage.ram})]})]})]}),Object(W.jsx)("div",{className:"grid__item grid__item-23-24",children:Object(W.jsx)("p",{className:"itemPage__id",children:"ID:".concat(c.id)})})]}),Object(W.jsxs)("div",{className:"grid itemPage__section",children:[Object(W.jsxs)("div",{className:"grid__item grid__item-1-12 itemPage__about",children:[Object(W.jsx)("p",{className:"itemPage__about-title",children:"About"}),Object(W.jsx)("p",{className:"itemPage__about-text",children:c.description})]}),Object(W.jsxs)("div",{className:"grid__item grid__item-14-24 itemPage__specs",children:[Object(W.jsx)("p",{className:"itemPage__specs-title",children:"Tech specs"}),Object(W.jsxs)("ul",{className:"itemPage__specs-list",children:[Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Screen"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.display.screenSize})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Resolution"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.display.screenResolution})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Processor"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.hardware.cpu})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"RAM"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.storage.ram})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Built in memory"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:"".concat(h," GB")})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Camera"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.camera.primary})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"Ceil"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.connectivity.cell})]}),Object(W.jsxs)("li",{className:"itemPage__specs-item",children:[Object(W.jsx)("p",{className:"itemPage__specs-item-title",children:"OS"}),Object(W.jsx)("p",{className:"itemPage__specs-item-value",children:c.android.os})]})]})]})]}),Object(W.jsx)("div",{className:"itemPage__similarPhones",children:Object(W.jsx)(K,{title:"Hot prices",items:C})})]})})};c(56);!function(e){e[e.Newest=0]="Newest",e[e.Low=1]="Low",e[e.High=2]="High"}(s||(s={}));var ee=[5,10,16,20,"all"],te=function(e){var t=e.items,c=e.category,i=Object(a.useState)(0),n=Object(I.a)(i,2),r=n[0],l=n[1],o=Object(a.useState)(ee[0]),j=Object(I.a)(o,2),u=j[0],m=j[1],d=Object(a.useState)(0),b=Object(I.a)(d,2),_=b[0],h=b[1],O=Object(a.useState)(s.Newest),p=Object(I.a)(O,2),x=p[0],f=p[1],g=Object(a.useState)(1),v=Object(I.a)(g,2),N=v[0],w=v[1],y=Object(a.useMemo)((function(){var e=t.filter((function(e){return e.type===c}));return l(e.length),e}),[t,c]);Object(a.useEffect)((function(){m(ee[0]),h(Number.isNaN(+u)?r:Math.ceil(r/+u)),w(1)}),[c]),Object(a.useEffect)((function(){h(Number.isNaN(+u)?r:Math.ceil(r/+u))}),[]);var P=Object(a.useMemo)((function(){return y.sort((function(e,t){switch(x){case s.Low:return e.price-(100-e.discount)/100-(t.price-(100-t.discount)/100);case s.High:return t.price-(100-t.discount)/100-(e.price-(100-e.discount)/100);default:return e.age-t.age}})),y}),[x,t,c]),C=function(e){if("string"===typeof e)switch(e){case"next":N<_&&w((function(e){return e+1}));break;case"prev":N>1&&w((function(e){return e-1}))}else w(e)};return Object(W.jsxs)("section",{className:"categoryPage",children:[Object(W.jsx)(z,{pathElems:[c],pathBoldElems:[]}),Object(W.jsx)("h1",{className:"categoryPage__title",children:c[0].toUpperCase()+c.slice(1)}),Object(W.jsx)("p",{className:"categoryPage__amount",children:"".concat(r," models")}),Object(W.jsxs)("div",{className:"categoryPage__sort-prop",children:[Object(W.jsxs)("div",{className:"categoryPage__sortType",children:[Object(W.jsx)("p",{className:"categoryPage__sort-text",children:"Sort by"}),Object(W.jsxs)("select",{className:"categoryPage__sortSelect categoryPage__sortType-type",name:"sortType",id:"sortType",defaultValue:u,onChange:function(e){return t=+e.target.value,void f(t);var t},children:[Object(W.jsx)("option",{value:s.Newest,children:"Newest"}),Object(W.jsx)("option",{value:s.Low,children:"Price:Low to High"}),Object(W.jsx)("option",{value:s.High,children:"Price: Hight to Low"})]})]}),Object(W.jsxs)("div",{className:"categoryPage__sortAmount",children:[Object(W.jsx)("p",{className:"categoryPage__sort-text",children:"Items on Page"}),Object(W.jsx)("select",{className:"categoryPage__sortSelect categoryPage__sortType-amount",name:"amountOnPage",id:"AmountOnPage",defaultValue:u,onChange:function(e){var t;t=e.target.value,w(1),Number.isNaN(+t)?(m(t),h(1)):(m(+t),h(Math.ceil(r/+t)))},children:ee.map((function(e){return Object(W.jsx)("option",{value:e,children:e},e)}))})]})]}),Object(W.jsx)("div",{className:"categoryPage__body",children:("number"===typeof u?P.slice((N-1)*u,N*u):P).map((function(e){return Object(W.jsx)(G,{item:e},e.id)}))}),_>1&&Object(W.jsxs)("div",{className:"categoryPage__selector",children:[Object(W.jsx)("button",{type:"button","aria-label":"prev",className:"categoryPage__button categoryPage__button--reversed",onClick:function(){return C("prev")}}),new Array(_).fill(0).map((function(e,t){return Object(W.jsx)("button",{type:"button","aria-label":"page",className:V()("categoryPage__unit",{"categoryPage__unit--active":N===t+1}),onClick:function(){return C(t+1)},children:t+1},"button_".concat(t))})),Object(W.jsx)("button",{type:"button","aria-label":"next",className:"categoryPage__button",onClick:function(){return C("next")}})]})]})},ce=(c(57),function(e){var t=e.items;return Object(W.jsxs)("section",{className:"category",children:[Object(W.jsx)("h2",{className:"category__title",children:"Shop by category"}),Object(W.jsxs)("ul",{className:"category__list",children:[Object(W.jsx)("li",{className:"category__item",children:Object(W.jsxs)(o.b,{to:"/phones",children:[Object(W.jsx)("div",{className:"category__photo--phones category__photo"}),Object(W.jsx)("h2",{className:"category__name",children:"Mobile phones"}),Object(W.jsx)("p",{className:"category__amount",children:"".concat(t.reduce((function(e,t){return"phone"===t.type?e+1:e}),0)," models")})]})}),Object(W.jsx)("li",{className:"category__item",children:Object(W.jsxs)(o.b,{to:"/tablets",children:[Object(W.jsx)("div",{className:"category__photo--tablets category__photo"}),Object(W.jsx)("h2",{className:"category__name",children:"Tabets"}),Object(W.jsx)("p",{className:"category__amount",children:"".concat(t.reduce((function(e,t){return"tablet"===t.type?e+1:e}),0)," models")})]})}),Object(W.jsx)("li",{className:"category__item",children:Object(W.jsxs)(o.b,{to:"/accessories",children:[Object(W.jsx)("div",{className:"category__photo--accessories category__photo"}),Object(W.jsx)("h2",{className:"category__name",children:"Accessories"}),Object(W.jsx)("p",{className:"category__amount",children:"0 models"})]})})]})]})}),se=(c(58),function(e){var t=e.products,c=Object(a.useMemo)((function(){return t.sort((function(e,t){return t.discount-e.discount})).filter((function(e){return e.discount>0}))}),[t]);return Object(W.jsx)("section",{className:"hotPrice",children:c&&Object(W.jsx)(K,{title:"Hot prices",items:c})})}),ae=(c(59),function(e){var t=e.products,c=Object(a.useMemo)((function(){return t.filter((function(e){return e.age<10})).sort((function(e,t){return e.age-t.age}))}),[t]);return Object(W.jsx)("section",{className:"newModels",children:c&&Object(W.jsx)(K,{title:"Brand new models",items:c})})}),ie=(c(60),c(61),function(e){var t=e.imgs,c=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useState)(1),n=Object(I.a)(i,2),r=n[0],l=n[1],o=Object(a.useState)(0),j=Object(I.a)(o,2),m=j[0],d=j[1],b=Object(a.useMemo)((function(){if(t.length>1){var e=t.map((function(e){return Object(W.jsx)("li",{className:"carousel__slide",children:Object(W.jsx)("img",{src:e.img,alt:e.desc})},e.id)}));return[Object(W.jsx)("li",{className:"carousel__slide",children:Object(W.jsx)("img",{src:"".concat(t[t.length-1].img),alt:t[t.length-1].desc})},t[0].id-1)].concat(Object(u.a)(e),[Object(W.jsx)("li",{className:"carousel__slide",children:Object(W.jsx)("img",{src:"".concat(t[0].img),alt:t[0].desc})},t[t.length-1].id+1)])}return Object(W.jsx)("li",{className:"carousel__slide",children:t[0]})}),[t]),_=Object(a.useCallback)((function(e){c.current&&(c.current.style.transitionDuration="400ms","prev"===e?r<=1?(d(0),l(t.length)):(d(c.current.clientWidth*(r-1)),l((function(e){return e-1}))):"next"===e&&(r>=t.length?(d(c.current.clientWidth*(t.length+1)),l(1)):(d(c.current.clientWidth*(r+1)),l((function(e){return e+1})))))}),[r,t]);return Object(a.useEffect)((function(){var e=function(){c.current&&(r<=1&&(c.current.style.transitionDuration="0ms",d(c.current.clientWidth*r)),r>=t.length&&(c.current.style.transitionDuration="0ms",d(c.current.clientWidth*t.length)))};return document.addEventListener("transitionend",e),function(){document.removeEventListener("transitionend",e)}}),[r,t]),Object(a.useLayoutEffect)((function(){c.current&&d(c.current.clientWidth*r)}),[]),Object(a.useEffect)((function(){return s.current&&clearInterval(s.current),s.current=setInterval((function(){_("next")}),5e3),function(){s.current&&clearInterval(s.current)}}),[_]),Object(W.jsxs)("div",{className:"carousel",children:[Object(W.jsxs)("div",{className:"carousel__body",children:[Object(W.jsx)("button",{type:"button","aria-label":"prev",className:"carousel__button",onClick:function(){return _("prev")}}),Object(W.jsx)("div",{className:"carousel__wrapper",children:Object(W.jsx)("ul",{ref:c,className:"carousel__container",style:{transform:"translate3d(".concat(-m,"px, 0, 0)")},children:b})}),Object(W.jsx)("button",{type:"button","aria-label":"next",className:"carousel__button carousel__button--reversed",onClick:function(){return _("next")}})]}),Object(W.jsx)("div",{className:"carousel__info",children:t.map((function(e,t){return Object(W.jsx)("div",{className:V()("carousel__info-tile",{"carousel__active-tile":t+1===r})},Math.random())}))})]})}),ne=c.p+"static/media/Banner.8e14917d.png",re=function(){var e=[{id:1,img:ne,desc:"photo 1"},{id:2,img:ne,desc:"photo 1"},{id:3,img:ne,desc:"photo 1"}];return Object(W.jsx)("section",{className:"novelties",children:Object(W.jsx)(ie,{imgs:e})})},le=function(e){var t=e.products;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(re,{}),t&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(se,{products:t}),Object(W.jsx)(ce,{items:t}),Object(W.jsx)(ae,{products:t})]})]})},oe=function(){var e=Object(a.useState)(),t=Object(I.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){$().then((function(e){return s(e)}))}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(H,{}),Object(W.jsx)("main",{className:"main",children:Object(W.jsx)("div",{className:"container",children:Object(W.jsxs)(B.d,{children:[c&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(B.b,{path:"/",element:Object(W.jsx)(B.a,{to:"/home",replace:!0})}),Object(W.jsx)(B.b,{path:"/home",element:Object(W.jsx)(le,{products:c})}),Object(W.jsxs)(B.b,{path:"/phones",children:[Object(W.jsx)(B.b,{index:!0,element:Object(W.jsx)(te,{items:c,category:"phone"})}),Object(W.jsx)(B.b,{path:":itemId",element:Object(W.jsx)(Z,{})})]}),Object(W.jsxs)(B.b,{path:"/tablets",children:[Object(W.jsx)(B.b,{index:!0,element:Object(W.jsx)(te,{items:c,category:"tablet"})}),Object(W.jsx)(B.b,{path:":itemId",element:Object(W.jsx)(Z,{})})]}),Object(W.jsxs)(B.b,{path:"/accessories",children:[Object(W.jsx)(B.b,{index:!0,element:Object(W.jsx)(te,{items:c,category:"accessories"})}),Object(W.jsx)(B.b,{path:":itemId",element:Object(W.jsx)(Z,{})})]})]}),Object(W.jsx)(B.b,{path:"/favourites",element:Object(W.jsx)(X,{})}),Object(W.jsx)(B.b,{path:"/withdraw",element:Object(W.jsx)(q,{})}),Object(W.jsx)(B.b,{path:"*",element:Object(W.jsx)("p",{children:"Page not found"})})]})})}),Object(W.jsx)(J,{})]})};r.a.render(Object(W.jsx)(l.a,{store:F,children:Object(W.jsx)(o.a,{children:Object(W.jsx)(oe,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.41445c76.chunk.js.map